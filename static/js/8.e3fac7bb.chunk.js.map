{"version":3,"sources":["components/JreSearch.js"],"names":["JreSearch","props","data","Object","entries","jreData","videos","value","push","sort","a","b","datePublished","state","dataSize","length","this","setState","SearchBar","Search","columns","dataField","text","formatter","cell","href","target","toLocaleString","moment","duration","asSeconds","sortFunc","order","rowA","rowB","aSeconds","bSeconds","console","log","keyField","search","searchProps","baseProps","onDataSizeChange","handleDataSizeChange","bind","React","Component"],"mappings":"mPAOMA,E,YAEJ,WAAYC,GAAQ,IAAD,sBACjB,4CAAMA,IAEN,IADA,IAAIC,EAAO,GACX,MAAsBC,OAAOC,QAAQC,EAAQC,QAA7C,eAAsD,CAAC,IAAD,OAA1CC,EAA0C,oBACpDL,EAAKM,KAAKD,GAJK,OAOjBL,EAAKO,MAAK,SAASC,EAAGC,GACpB,OAAOD,GAAKC,GAAKD,EAAEE,cAAgBD,EAAEC,eAAiB,EAAI,KAG5D,EAAKC,MAAQ,CACXX,KAAMA,EACNY,SAAUZ,EAAKa,QAbA,E,qFAiBiB,IAAbD,EAAY,EAAZA,SACrBE,KAAKC,SAAS,CACZH,SAAUA,M,+BAIJ,IAAD,OACCI,EAAcC,SAAdD,UACFE,EAAU,CACd,CACEC,UAAW,MACXC,KAAM,MACNC,UAAW,SAACC,GAAD,OAAU,uBAAGC,KAAMD,EAAME,OAAO,UAAtB,UACpB,CACDL,UAAW,OACXC,KAAM,OACNb,MAAM,GACL,CACDY,UAAW,gBACXC,KAAM,iBACNb,MAAM,GACL,CACDY,UAAW,iBACXC,KAAM,aACNb,MAAM,EACNc,UAAW,SAACC,GAAD,OAAWA,EAAKG,mBAC1B,CACDN,UAAW,WACXC,KAAM,WACNb,MAAM,EACNc,UAAW,SAACC,GAAD,OAAUI,IAAOC,SAASL,GAAMM,aAC3CC,SAAU,SAACrB,EAAGC,EAAGqB,EAAOX,EAAWY,EAAMC,GACvC,IAAMC,EAAWP,IAAOC,SAASnB,GAAGoB,YAC9BM,EAAWR,IAAOC,SAASlB,GAAGmB,YAEpC,OADAO,QAAQC,IAAIN,GACE,QAAVA,EACKG,EAAWC,EAEbA,EAAWD,IAEnB,CACDd,UAAW,cACXC,KAAM,eACN,CACAD,UAAW,WACXC,KAAM,aAIV,OACE,kBAAC,IAAD,CACEiB,SAAS,UACTrC,KAAOc,KAAKH,MAAMX,KAClBkB,QAAUA,EACVoB,QAAM,IAGJ,SAAAvC,GAAK,OACH,6BACE,kBAACiB,EAAejB,EAAMwC,aACtB,yCAAe,EAAK5B,MAAMC,UAC1B,6BACA,kBAAC,IAAD,iBACOb,EAAMyC,UADb,CAEEC,iBAAmB,EAAKC,qBAAqBC,KAAK,c,GAnF1CC,IAAMC,WA6Ff/C","file":"static/js/8.e3fac7bb.chunk.js","sourcesContent":["import React from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\nimport jreData from '../data/jre.json';\nimport moment from 'moment';\n\n// https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/table-props.html\nclass JreSearch extends React.Component {\n\n  constructor(props) {\n    super(props)\n    let data = [];\n    for (let [, value] of Object.entries(jreData.videos)) {\n      data.push(value);\n    }\n\n    data.sort(function(a, b) {\n      return a && b && a.datePublished > b.datePublished ? -1 : 1;\n    });\n\n    this.state = {\n      data: data,\n      dataSize: data.length,\n    };\n  }\n\n  handleDataSizeChange({ dataSize }) {\n    this.setState({\n      dataSize: dataSize,\n    });\n  }\n\n  render() {\n    const { SearchBar } = Search;\n    const columns = [\n      {\n        dataField: 'url',\n        text: 'Url',\n        formatter: (cell) => <a href={cell} target=\"_blank\">link</a>,\n      }, {\n        dataField: 'name',\n        text: 'Name',\n        sort: true,\n      }, {\n        dataField: 'datePublished',\n        text: 'Date Published',\n        sort: true,\n      }, {\n        dataField: 'watchViewCount',\n        text: 'View Count',\n        sort: true,\n        formatter: (cell) =>  cell.toLocaleString(),\n      }, {\n        dataField: 'duration',\n        text: 'Duration',\n        sort: true,\n        formatter: (cell) => moment.duration(cell).asSeconds(),\n        sortFunc: (a, b, order, dataField, rowA, rowB) => {\n          const aSeconds = moment.duration(a).asSeconds();\n          const bSeconds = moment.duration(b).asSeconds();\n          console.log(order);\n          if (order === 'asc') {\n            return aSeconds - bSeconds;\n          }\n          return bSeconds - aSeconds;\n        }\n      }, {\n        dataField: 'description',\n        text: 'Description',\n      },{\n        dataField: 'keywords',\n        text: 'Keywords',\n      },\n    ];\n\n    return (\n      <ToolkitProvider\n        keyField=\"videoId\"\n        data={ this.state.data }\n        columns={ columns }\n        search\n      >\n        {\n          props => (\n            <div>\n              <SearchBar { ...props.searchProps } />\n              <div>Results: {this.state.dataSize}</div>\n              <hr />\n              <BootstrapTable \n                { ...props.baseProps }\n                onDataSizeChange={ this.handleDataSizeChange.bind(this) }\n              />\n            </div>\n          )\n        }\n      </ToolkitProvider>\n    );\n  }\n}\n\nexport default JreSearch;\n"],"sourceRoot":""}