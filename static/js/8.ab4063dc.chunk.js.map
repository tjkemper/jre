{"version":3,"sources":["components/JreCard.js","components/analytics/JreViews.js","components/analytics/JreKeywordFrequency.js","components/analytics/JreKeywordViews.js","components/analytics/JreFamilyFriendly.js","components/analytics/JreAnalytics.js"],"names":["JreCard","props","duration","moment","video","hours","minutes","pad","seconds","durationStr","state","header","num","slice","bg","text","style","width","this","Header","href","url","target","Img","variant","src","imageUrl","Body","Title","name","Subtitle","className","datePublished","Text","description","React","Component","JreViews","graph","labels","videos","map","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","data","y","options","legend","display","tooltips","callbacks","tooltipItem","datasetIndex","index","afterTitle","watchViewCount","toLocaleString","scales","xAxes","ticks","maxTicksLimit","JreKeywords","keywordFreq","keywords","split","forEach","k","keyword","toLowerCase","keywordsDescFreq","Object","entries","key","push","sort","a","b","topKeywords","topKeywordFreq","freq","desc","JreKeywordViews","keywordViews","keywordsDescViews","topKeywordViews","JreFamilyFriendly","numNotFamilyFriendly","isFamilyFriendly","length","hoverBackgroundColor","JreAnalytics","totalViews","totalSeconds","mostViewedVideo","longestVideo","jreData","asSeconds","toFixed","JreKeywordFrequency"],"mappings":"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","file":"static/js/8.ab4063dc.chunk.js","sourcesContent":["import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport moment from 'moment';\n\nclass JreCard extends React.Component {\n  constructor(props) {\n    super(props);\n    const duration = moment.duration(props.video.duration);\n    const hours = duration.hours();\n    const minutes = this.pad(duration.minutes());\n    const seconds = this.pad(duration.seconds());\n    const durationStr = `${hours}:${minutes}:${seconds}`;\n\n    this.state = {\n      video: props.video,\n      header: props.header,\n      durationStr: durationStr,\n    };\n  }\n\n  pad(num) {\n    return ('0' + num).slice(-2);\n  }\n\n  render() {\n    return (\n      <Card bg=\"dark\" text=\"white\" style={{ width: '25rem' }}>\n        { this.state.header && <Card.Header>{this.state.header}</Card.Header> }\n        <a href={this.state.video.url} target=\"_blank\">\n          <Card.Img variant=\"top\" src={this.state.video.imageUrl} />  \n        </a>\n        <Card.Body>\n          <Card.Title>{this.state.video.name}</Card.Title>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {this.state.video.datePublished}\n          </Card.Subtitle>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {this.state.durationStr}\n          </Card.Subtitle>\n          <Card.Text>{this.state.video.description}</Card.Text>\n        </Card.Body>\n        <Button href={this.state.video.url} target=\"_blank\">Watch</Button>\n      </Card>\n    );\n  }\n}\n\nexport default JreCard;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2'\n\nclass JreViews extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    const published = props.videos.map(video => video['datePublished']);\n\n    const views = props.videos.map(video => {\n      return {\n        y: video['watchViewCount'],\n        ...video\n      };\n    });\n\n    const graph = {\n      labels: published,\n      datasets: [\n        {\n          label: 'Views',\n          fill: false,\n          lineTension: 0.1,\n          backgroundColor: 'rgba(75,192,192,0.4)',\n          borderColor: 'rgba(75,192,192,1)',\n          borderCapStyle: 'butt',\n          borderDash: [],\n          borderDashOffset: 0.0,\n          borderJoinStyle: 'miter',\n          pointBorderColor: 'rgba(75,192,192,1)',\n          pointBackgroundColor: '#fff',\n          pointBorderWidth: 1,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\n          pointHoverBorderWidth: 2,\n          pointRadius: 1,\n          pointHitRadius: 10,\n          data: views\n        }\n      ]\n    };\n\n    const options = {\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            const video = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n            return video.name;\n          },\n          afterTitle: function(tooltipItem, data) {\n            const video = data.datasets[tooltipItem[0].datasetIndex].data[tooltipItem[0].index];\n            return 'Views: ' + video.watchViewCount.toLocaleString();\n          },\n        },\n      },\n      scales: {\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 10\n          }\n        }]\n      }\n    };\n\n    this.state = {\n      videos: props.videos,\n      graph: graph,\n      options: options,\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Line\n          data={this.state.graph}\n          options={this.state.options}\n        />\n      </div>\n    );\n  }\n}\n\nexport default JreViews;\n","import React from 'react';\nimport { Radar } from 'react-chartjs-2'\n\nclass JreKeywords extends React.Component {\n\n  constructor(props) {\n    super(props)\n    const keywordFreq = {};\n    props.videos.map(video => {\n      video.keywords.split(', ').forEach(k => {\n        const keyword = k.toLowerCase();\n        keywordFreq[keyword] ? keywordFreq[keyword]++ : keywordFreq[keyword] = 1;\n      });\n    });\n    const keywordsDescFreq = [];\n    for (let [key, value] of Object.entries(keywordFreq)) {\n      keywordsDescFreq.push(key);\n    }\n    keywordsDescFreq.sort((a, b) => keywordFreq[b] - keywordFreq[a]);\n\n    const numKeywords = 30;\n    const topKeywords = keywordsDescFreq.slice(0, numKeywords);\n    const topKeywordFreq = topKeywords.map(keyword => keywordFreq[keyword]);\n\n    const graph = {\n      labels: topKeywords,\n      datasets: [\n        {\n          label: 'Keyword Frequency',\n          backgroundColor: 'rgba(255, 41, 0, 0.2)',\n          borderColor: 'rgba(255, 41, 0, 1)',\n          pointBackgroundColor: 'rgba(255, 41, 0, 1)',\n          pointBorderColor: '#fff',\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: 'rgba(179,181,198,1)',\n          data: topKeywordFreq,\n        },\n      ]\n    };\n\n    const options = {\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            const freq = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n            return freq.toLocaleString();\n          },\n        },\n      },\n    };\n\n    this.state = {\n      videos: props.videos,\n      freq: keywordFreq,\n      desc: keywordsDescFreq,\n      graph: graph,\n      options: options,\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Radar \n          data={this.state.graph}\n          options={this.state.options}\n        />\n      </div>\n    );\n  }\n}\n\nexport default JreKeywords;\n","import React from 'react';\nimport { Radar } from 'react-chartjs-2'\n\nclass JreKeywordViews extends React.Component {\n\n  constructor(props) {\n    super(props)\n    const keywordViews = {};\n    props.videos.map(video => {\n      video.keywords.split(', ').forEach(k => {\n        const keyword = k.toLowerCase();\n        keywordViews[keyword] ? keywordViews[keyword] += video.watchViewCount : keywordViews[keyword] = video.watchViewCount;\n      });\n    });\n    const keywordsDescViews = [];\n    for (let [key, value] of Object.entries(keywordViews)) {\n      keywordsDescViews.push(key);\n    }\n    keywordsDescViews.sort((a, b) => keywordViews[b] - keywordViews[a]);\n\n    const numKeywords = 30;\n    const topKeywords = keywordsDescViews.slice(0, numKeywords);\n    const topKeywordViews = topKeywords.map(keyword => keywordViews[keyword]);\n\n    const graph = {\n      labels: topKeywords,\n      datasets: [\n        {\n          label: 'Keyword Views',\n          backgroundColor: 'rgba(179,181,198,0.2)',\n          borderColor: 'rgba(179,181,198,1)',\n          pointBackgroundColor: 'rgba(179,181,198,1)',\n          pointBorderColor: '#fff',\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: 'rgba(179,181,198,1)',\n          data: topKeywordViews,\n        },\n      ]\n    };\n\n    const options = {\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            const freq = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n            return freq.toLocaleString();\n          },\n        },\n      },\n    };\n\n    this.state = {\n      videos: props.videos,\n      graph: graph,\n      options: options,\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Radar \n          data={this.state.graph}\n          options={this.state.options}\n        />\n      </div>\n    );\n  }\n}\n\nexport default JreKeywordViews;\n","import React from 'react';\nimport { Pie } from 'react-chartjs-2'\n\nclass JreFamilyFriendly extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    let numNotFamilyFriendly = 0;\n    for (let [, video] of Object.entries(props.videos)) {\n      if (video.isFamilyFriendly === 'False') {\n        numNotFamilyFriendly++;\n      }\n    }\n    const numFamilyFriendly = props.videos.length - numNotFamilyFriendly;\n    const data = [ numFamilyFriendly, numNotFamilyFriendly ];\n    const graph = {\n      labels: [\n        'Family Friendly',\n        'Not Family Friendly',\n      ],\n      datasets: [{\n        data: data,\n        backgroundColor: [\n          '#36A2EB',\n          '#FF6384',\n        ],\n        hoverBackgroundColor: [\n          '#36A2EB',\n          '#FF6384',\n        ]\n      }]\n    };\n\n    this.state = {\n      videos: props.videos,\n      graph: graph,\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Pie\n          data={this.state.graph}\n        />\n      </div>\n    );\n  }\n}\n\nexport default JreFamilyFriendly;\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport jreData from '../../data/jre.json';\nimport JreViews from './JreViews';\nimport JreKeywordFrequency from './JreKeywordFrequency';\nimport JreKeywordViews from './JreKeywordViews';\nimport JreFamilyFriendly from './JreFamilyFriendly';\nimport JreCard from '../JreCard';\nimport moment from 'moment';\n\nclass JreAnalytics extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    let totalViews = 0;\n    let totalSeconds = 0;\n    let mostViewedVideo = null;\n    let longestVideo = null;\n    let numNotFamilyFriendly = 0;\n    let videos = [];\n    for (let [, video] of Object.entries(jreData.videos)) {\n      videos.push(video);\n      totalViews += video.watchViewCount;\n      totalSeconds += moment.duration(video.duration).asSeconds();\n\n      if (!mostViewedVideo || video.watchViewCount > mostViewedVideo.watchViewCount) {\n        mostViewedVideo = video;\n      }\n\n      if (!longestVideo || moment.duration(video.duration).asSeconds() > moment.duration(longestVideo.duration).asSeconds()) {\n        longestVideo = video;\n      }\n\n      if (video.isFamilyFriendly === 'False') {\n        numNotFamilyFriendly++;\n      }\n\n    }\n\n    videos.sort(function(a, b) {\n      return a && b && a.datePublished < b.datePublished ? -1 : 1;\n    });\n\n    this.state = {\n      videos: videos,\n      totalViews: totalViews,\n      totalSeconds: totalSeconds,\n      mostViewedVideo: mostViewedVideo,\n      longestVideo: longestVideo,\n      numNotFamilyFriendly: numNotFamilyFriendly,\n    }\n  }\n\n  render() {\n    return (\n      <Container>\n        <Row className=\"m-3\">\n          <Col>\n            <h3>Total Views</h3>\n            {this.state.totalViews.toLocaleString()}\n          </Col>\n          <Col>\n            <h3>Number of videos</h3>\n            {this.state.videos.length.toLocaleString()}\n          </Col>\n          <Col>\n            <h3>Total time</h3>\n            <div>\n              {this.state.totalSeconds} seconds\n            </div>\n            <div>\n              or\n            </div>\n            <div>\n            {(this.state.totalSeconds / 3600 / 24).toFixed(2)} days\n            </div>\n          </Col>\n        </Row>\n        <Row className=\"m-3 justify-content-md-center\">\n          <Col className=\"m-3 col-auto\">\n            <JreCard video={this.state.mostViewedVideo} header=\"Most Viewed\"/>\n          </Col>\n          <Col className=\"m-3 col-auto\">\n            <JreCard video={this.state.longestVideo} header=\"Longest\"/>\n          </Col>\n        </Row>\n        <Row className=\"m-3\">\n          <Col>\n            <h3>Video views</h3>\n            <JreViews videos={this.state.videos} />\n          </Col>\n        </Row>\n        <Row className=\"m-3\">\n          <Col className=\"m-3\">\n            <h3>Keyword frequency</h3>\n            <JreKeywordFrequency videos={this.state.videos} />\n          </Col>\n          <Col className=\"m-3\">\n            <h3>Keyword views</h3>\n            <JreKeywordViews videos={this.state.videos} />\n          </Col>\n        </Row>\n        <Row className=\"m-3\">\n          <Col>\n            <h3>Family friendly</h3>\n            {this.state.numNotFamilyFriendly} videos ({(this.state.numNotFamilyFriendly / this.state.videos.length).toFixed(3) + \"%\"})\n            <JreFamilyFriendly videos={this.state.videos} />\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default JreAnalytics;\n"],"sourceRoot":""}