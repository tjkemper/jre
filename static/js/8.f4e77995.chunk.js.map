{"version":3,"sources":["components/JreCard.js","components/analytics/JreViews.js","components/analytics/JreKeywordFrequency.js","components/analytics/JreKeywordViews.js","components/analytics/JreFamilyFriendly.js","components/analytics/JreAnalytics.js"],"names":["JreCard","num","slice","duration","moment","this","props","video","hours","minutes","pad","seconds","durationStr","bg","text","style","width","header","Header","href","url","target","Img","variant","src","imageUrl","Body","Title","name","Subtitle","className","datePublished","Text","description","React","Component","JreViews","graph","labels","videos","map","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","data","y","state","options","legend","display","tooltips","callbacks","tooltipItem","datasetIndex","index","afterTitle","watchViewCount","toLocaleString","scales","xAxes","ticks","maxTicksLimit","JreKeywords","keywordFreq","keywords","split","forEach","k","keyword","toLowerCase","keywordsDescFreq","Object","entries","key","push","sort","a","b","topKeywords","topKeywordFreq","freq","desc","JreKeywordViews","keywordViews","keywordsDescViews","topKeywordViews","JreFamilyFriendly","numNotFamilyFriendly","isFamilyFriendly","length","hoverBackgroundColor","JreAnalytics","totalViews","totalSeconds","mostViewedVideo","longestVideo","jreData","asSeconds","toFixed","JreKeywordFrequency"],"mappings":"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","file":"static/js/8.f4e77995.chunk.js","sourcesContent":["import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport moment from 'moment';\r\n\r\nclass JreCard extends React.Component {\r\n\r\n  pad(num) {\r\n    return ('0' + num).slice(-2);\r\n  }\r\n\r\n  render() {\r\n    const duration = moment.duration(this.props.video.duration);\r\n    const hours = duration.hours();\r\n    const minutes = this.pad(duration.minutes());\r\n    const seconds = this.pad(duration.seconds());\r\n    const durationStr = `${hours}:${minutes}:${seconds}`;\r\n\r\n    return (\r\n      <Card bg=\"dark\" text=\"white\" style={{ width: '25rem' }}>\r\n        { this.props.header && <Card.Header>{this.props.header}</Card.Header> }\r\n        <a href={this.props.video.url} target=\"_blank\">\r\n          <Card.Img variant=\"top\" src={this.props.video.imageUrl} />  \r\n        </a>\r\n        <Card.Body>\r\n          <Card.Title>{this.props.video.name}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">\r\n            {this.props.video.datePublished}\r\n          </Card.Subtitle>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">\r\n            {durationStr}\r\n          </Card.Subtitle>\r\n          <Card.Text>{this.props.video.description}</Card.Text>\r\n        </Card.Body>\r\n        <Button href={this.props.video.url} target=\"_blank\">Watch</Button>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreCard;\r\n","import React from 'react';\r\nimport { Line } from 'react-chartjs-2'\r\n\r\nclass JreViews extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const published = props.videos.map(video => video['datePublished']);\r\n\r\n    const views = props.videos.map(video => {\r\n      return {\r\n        y: video['watchViewCount'],\r\n        ...video\r\n      };\r\n    });\r\n\r\n    const graph = {\r\n      labels: published,\r\n      datasets: [\r\n        {\r\n          label: 'Views',\r\n          fill: false,\r\n          lineTension: 0.1,\r\n          backgroundColor: 'rgba(75,192,192,0.4)',\r\n          borderColor: 'rgba(75,192,192,1)',\r\n          borderCapStyle: 'butt',\r\n          borderDash: [],\r\n          borderDashOffset: 0.0,\r\n          borderJoinStyle: 'miter',\r\n          pointBorderColor: 'rgba(75,192,192,1)',\r\n          pointBackgroundColor: '#fff',\r\n          pointBorderWidth: 1,\r\n          pointHoverRadius: 5,\r\n          pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n          pointHoverBorderWidth: 2,\r\n          pointRadius: 1,\r\n          pointHitRadius: 10,\r\n          data: views\r\n        }\r\n      ]\r\n    };\r\n\r\n    const options = {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function(tooltipItem, data) {\r\n            const video = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n            return video.name;\r\n          },\r\n          afterTitle: function(tooltipItem, data) {\r\n            const video = data.datasets[tooltipItem[0].datasetIndex].data[tooltipItem[0].index];\r\n            return 'Views: ' + video.watchViewCount.toLocaleString();\r\n          },\r\n        },\r\n      },\r\n      scales: {\r\n        xAxes: [{\r\n          ticks: {\r\n            maxTicksLimit: 10\r\n          }\r\n        }]\r\n      }\r\n    };\r\n\r\n    this.state = {\r\n      videos: props.videos,\r\n      graph: graph,\r\n      options: options,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Line\r\n          data={this.state.graph}\r\n          options={this.state.options}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreViews;\r\n","import React from 'react';\r\nimport { Radar } from 'react-chartjs-2'\r\n\r\nclass JreKeywords extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const keywordFreq = {};\r\n    props.videos.map(video => {\r\n      video.keywords.split(', ').forEach(k => {\r\n        const keyword = k.toLowerCase();\r\n        keywordFreq[keyword] ? keywordFreq[keyword]++ : keywordFreq[keyword] = 1;\r\n      });\r\n    });\r\n    const keywordsDescFreq = [];\r\n    for (let [key, value] of Object.entries(keywordFreq)) {\r\n      keywordsDescFreq.push(key);\r\n    }\r\n    keywordsDescFreq.sort((a, b) => keywordFreq[b] - keywordFreq[a]);\r\n\r\n    const numKeywords = 30;\r\n    const topKeywords = keywordsDescFreq.slice(0, numKeywords);\r\n    const topKeywordFreq = topKeywords.map(keyword => keywordFreq[keyword]);\r\n\r\n    const graph = {\r\n      labels: topKeywords,\r\n      datasets: [\r\n        {\r\n          label: 'Keyword Frequency',\r\n          backgroundColor: 'rgba(255, 41, 0, 0.2)',\r\n          borderColor: 'rgba(255, 41, 0, 1)',\r\n          pointBackgroundColor: 'rgba(255, 41, 0, 1)',\r\n          pointBorderColor: '#fff',\r\n          pointHoverBackgroundColor: '#fff',\r\n          pointHoverBorderColor: 'rgba(179,181,198,1)',\r\n          data: topKeywordFreq,\r\n        },\r\n      ]\r\n    };\r\n\r\n    const options = {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function(tooltipItem, data) {\r\n            const freq = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n            return freq.toLocaleString();\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    this.state = {\r\n      videos: props.videos,\r\n      freq: keywordFreq,\r\n      desc: keywordsDescFreq,\r\n      graph: graph,\r\n      options: options,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Radar \r\n          data={this.state.graph}\r\n          options={this.state.options}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreKeywords;\r\n","import React from 'react';\r\nimport { Radar } from 'react-chartjs-2'\r\n\r\nclass JreKeywordViews extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const keywordViews = {};\r\n    props.videos.map(video => {\r\n      video.keywords.split(', ').forEach(k => {\r\n        const keyword = k.toLowerCase();\r\n        keywordViews[keyword] ? keywordViews[keyword] += video.watchViewCount : keywordViews[keyword] = video.watchViewCount;\r\n      });\r\n    });\r\n    const keywordsDescViews = [];\r\n    for (let [key, value] of Object.entries(keywordViews)) {\r\n      keywordsDescViews.push(key);\r\n    }\r\n    keywordsDescViews.sort((a, b) => keywordViews[b] - keywordViews[a]);\r\n\r\n    const numKeywords = 30;\r\n    const topKeywords = keywordsDescViews.slice(0, numKeywords);\r\n    const topKeywordViews = topKeywords.map(keyword => keywordViews[keyword]);\r\n\r\n    const graph = {\r\n      labels: topKeywords,\r\n      datasets: [\r\n        {\r\n          label: 'Keyword Views',\r\n          backgroundColor: 'rgba(179,181,198,0.2)',\r\n          borderColor: 'rgba(179,181,198,1)',\r\n          pointBackgroundColor: 'rgba(179,181,198,1)',\r\n          pointBorderColor: '#fff',\r\n          pointHoverBackgroundColor: '#fff',\r\n          pointHoverBorderColor: 'rgba(179,181,198,1)',\r\n          data: topKeywordViews,\r\n        },\r\n      ]\r\n    };\r\n\r\n    const options = {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function(tooltipItem, data) {\r\n            const freq = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n            return freq.toLocaleString();\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    this.state = {\r\n      videos: props.videos,\r\n      graph: graph,\r\n      options: options,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Radar \r\n          data={this.state.graph}\r\n          options={this.state.options}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreKeywordViews;\r\n","import React from 'react';\r\nimport { Pie } from 'react-chartjs-2'\r\n\r\nclass JreFamilyFriendly extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    let numNotFamilyFriendly = 0;\r\n    for (let [, video] of Object.entries(props.videos)) {\r\n      if (video.isFamilyFriendly === 'False') {\r\n        numNotFamilyFriendly++;\r\n      }\r\n    }\r\n    const numFamilyFriendly = props.videos.length - numNotFamilyFriendly;\r\n    const data = [ numFamilyFriendly, numNotFamilyFriendly ];\r\n    const graph = {\r\n      labels: [\r\n        'Family Friendly',\r\n        'Not Family Friendly',\r\n      ],\r\n      datasets: [{\r\n        data: data,\r\n        backgroundColor: [\r\n          '#36A2EB',\r\n          '#FF6384',\r\n        ],\r\n        hoverBackgroundColor: [\r\n          '#36A2EB',\r\n          '#FF6384',\r\n        ]\r\n      }]\r\n    };\r\n\r\n    this.state = {\r\n      videos: props.videos,\r\n      graph: graph,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Pie\r\n          data={this.state.graph}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreFamilyFriendly;\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport jreData from '../../data/jre.json';\r\nimport JreViews from './JreViews';\r\nimport JreKeywordFrequency from './JreKeywordFrequency';\r\nimport JreKeywordViews from './JreKeywordViews';\r\nimport JreFamilyFriendly from './JreFamilyFriendly';\r\nimport JreCard from '../JreCard';\r\nimport moment from 'moment';\r\n\r\nclass JreAnalytics extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let totalViews = 0;\r\n    let totalSeconds = 0;\r\n    let mostViewedVideo = null;\r\n    let longestVideo = null;\r\n    let numNotFamilyFriendly = 0;\r\n    let videos = [];\r\n    for (let [, video] of Object.entries(jreData.videos)) {\r\n      videos.push(video);\r\n      totalViews += video.watchViewCount;\r\n      totalSeconds += moment.duration(video.duration).asSeconds();\r\n\r\n      if (!mostViewedVideo || video.watchViewCount > mostViewedVideo.watchViewCount) {\r\n        mostViewedVideo = video;\r\n      }\r\n\r\n      if (!longestVideo || moment.duration(video.duration).asSeconds() > moment.duration(longestVideo.duration).asSeconds()) {\r\n        longestVideo = video;\r\n      }\r\n\r\n      if (video.isFamilyFriendly === 'False') {\r\n        numNotFamilyFriendly++;\r\n      }\r\n\r\n    }\r\n\r\n    videos.sort(function(a, b) {\r\n      return a && b && a.datePublished < b.datePublished ? -1 : 1;\r\n    });\r\n\r\n    this.state = {\r\n      videos: videos,\r\n      totalViews: totalViews,\r\n      totalSeconds: totalSeconds,\r\n      mostViewedVideo: mostViewedVideo,\r\n      longestVideo: longestVideo,\r\n      numNotFamilyFriendly: numNotFamilyFriendly,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Row className=\"m-3\">\r\n          <Col>\r\n            <h3>Total Views</h3>\r\n            {this.state.totalViews.toLocaleString()}\r\n          </Col>\r\n          <Col>\r\n            <h3>Number of videos</h3>\r\n            {this.state.videos.length.toLocaleString()}\r\n          </Col>\r\n          <Col>\r\n            <h3>Total time</h3>\r\n            <div>\r\n              {this.state.totalSeconds} seconds\r\n            </div>\r\n            <div>\r\n              or\r\n            </div>\r\n            <div>\r\n            {(this.state.totalSeconds / 3600 / 24).toFixed(2)} days\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"m-3 justify-content-md-center\">\r\n          <Col className=\"m-3 col-auto\">\r\n            <JreCard video={this.state.mostViewedVideo} header=\"Most Viewed\"/>\r\n          </Col>\r\n          <Col className=\"m-3 col-auto\">\r\n            <JreCard video={this.state.longestVideo} header=\"Longest\"/>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"m-3\">\r\n          <Col>\r\n            <h3>Video views</h3>\r\n            <JreViews videos={this.state.videos} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"m-3\">\r\n          <Col className=\"m-3\">\r\n            <h3>Keyword frequency</h3>\r\n            <JreKeywordFrequency videos={this.state.videos} />\r\n          </Col>\r\n          <Col className=\"m-3\">\r\n            <h3>Keyword views</h3>\r\n            <JreKeywordViews videos={this.state.videos} />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"m-3\">\r\n          <Col>\r\n            <h3>Family friendly</h3>\r\n            {this.state.numNotFamilyFriendly} videos ({(this.state.numNotFamilyFriendly / this.state.videos.length).toFixed(3) + \"%\"})\r\n            <JreFamilyFriendly videos={this.state.videos} />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JreAnalytics;\r\n"],"sourceRoot":""}